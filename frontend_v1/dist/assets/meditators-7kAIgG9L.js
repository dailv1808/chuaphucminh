import{g as t}from"./config-BvOGzWpZ.js";/* empty css             */import"./auth-BxmWGv8U.js";document.addEventListener("alpine:init",()=>{Alpine.data("allMeditatorsData",()=>({registrations:[],filteredRegistrations:[],searchQuery:"",statusFilter:"",showDetail:!1,selectedRegistration:null,isLoading:!0,showNotification:!1,notificationMessage:"",notificationType:"success",init(){this.fetchRegistrations()},async fetchRegistrations(){try{this.isLoading=!0;const e=await fetch(t("/api/registration/"));if(!e.ok)throw new Error("Lỗi kết nối mạng");const i=await e.json();this.registrations=i.sort((t,e)=>new Date(e.updated_at)-new Date(t.updated_at)),this.filteredRegistrations=[...this.registrations]}catch(e){console.error("Lỗi khi tải danh sách thiền sinh:",e),this.showNotificationMessage("Có lỗi xảy ra khi tải dữ liệu","error")}finally{this.isLoading=!1}},filterRegistrations(){const t=this.searchQuery.toLowerCase(),e=this.statusFilter;this.filteredRegistrations=this.registrations.filter(i=>{const s=i.fullname.toLowerCase().includes(t)||i.email&&i.email.toLowerCase().includes(t),o=!e||i.status===e;return s&&o})},calculateDuration(t,e){if(!t||!e)return 0;const i=new Date(t),s=new Date(e),o=Math.abs(s-i);return Math.ceil(o/864e5)},formatDate(t){if(!t)return"N/A";return new Date(t).toLocaleDateString("vi-VN")},formatStatus:t=>({pending:{text:"Chờ duyệt",color:"bg-yellow-100 text-yellow-800"},approved:{text:"Đã duyệt",color:"bg-green-100 text-green-800"},checked_in:{text:"Đã check-in",color:"bg-purple-100 text-purple-800"},checked_out:{text:"Đã check-out",color:"bg-orange-100 text-orange-800"},rejected:{text:"Từ chối",color:"bg-red-100 text-red-800"}}[t]||{text:t,color:"bg-gray-100 text-gray-800"}),showNotificationMessage(t,e="success"){this.notificationMessage=t,this.notificationType=e,this.showNotification=!0,setTimeout(()=>{this.showNotification=!1},3e3)},showRegistrationDetail(t){this.selectedRegistration=t,this.showDetail=!0}}))});
