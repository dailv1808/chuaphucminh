import{g as t}from"./config-BvOGzWpZ.js";/* empty css             */import"./auth-BxmWGv8U.js";document.addEventListener("alpine:init",()=>{Alpine.data("checkedOutData",()=>({registrations:[],filteredRegistrations:[],searchQuery:"",showDetail:!1,selectedRegistration:null,isLoading:!0,showNotification:!1,notificationMessage:"",notificationType:"success",init(){this.fetchRegistrations()},async fetchRegistrations(){try{this.isLoading=!0;const i=await fetch(t("/api/registration/"));if(!i.ok)throw new Error("Lỗi kết nối mạng");const e=await i.json();this.registrations=e.filter(t=>"checked_out"===t.status).sort((t,i)=>new Date(i.updated_at)-new Date(t.updated_at)),this.filteredRegistrations=[...this.registrations]}catch(i){console.error("Lỗi khi tải danh sách đăng ký:",i),this.showNotificationMessage("Có lỗi xảy ra khi tải dữ liệu","error")}finally{this.isLoading=!1}},calculateDuration(t,i){if(!t||!i)return 0;const e=new Date(t),s=new Date(i),a=Math.abs(s-e);return Math.ceil(a/864e5)},formatDate(t){if(!t)return"N/A";return new Date(t).toLocaleDateString("vi-VN")},formatStatus:t=>({checked_out:{text:"Đã check-out",color:"bg-orange-100 text-orange-800"}}[t]||{text:t,color:"bg-gray-100 text-gray-800"}),filterRegistrations(){if(!this.searchQuery)return void(this.filteredRegistrations=[...this.registrations]);const t=this.searchQuery.toLowerCase();this.filteredRegistrations=this.registrations.filter(i=>i.fullname.toLowerCase().includes(t)||i.email&&i.email.toLowerCase().includes(t))},showNotificationMessage(t,i="success"){this.notificationMessage=t,this.notificationType=i,this.showNotification=!0,setTimeout(()=>{this.showNotification=!1},3e3)},showRegistrationDetail(t){this.selectedRegistration=t,this.showDetail=!0}}))});
