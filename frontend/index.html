<!-- public/dang-ky-hanh-thien/index.html -->
<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ƒêƒÉng k√Ω h√†nh thi·ªÅn</title>
  <link rel="stylesheet" href="/src/css/index.css" />
  <script type="module" src="/src/js/index.js"></script>
</head>
<body class="bg-gray-100 text-gray-800">
  <div class="max-w-3xl mx-auto p-6 bg-white rounded-lg shadow" x-data="formDangKy()">
    <h1 class="text-2xl font-bold mb-6 text-center">ƒêƒÇNG K√ù H√ÄNH THI·ªÄN</h1>

    <!-- B∆Ø·ªöC 1 -->
    <section class="mb-10">
      <h2 class="text-xl font-semibold text-blue-700 mb-3">B∆Ø·ªöC 1 ‚Äì ƒê·ªçc &amp; ch·∫•p nh·∫≠n n·ªôi quy</h2>
      <p class="text-sm text-gray-700 leading-relaxed">[PLACEHOLDER] ‚Äì¬†N·ªôi quy h√†nh thi·ªÅn t√≥m t·∫Øt...</p>
      <label class="flex items-start gap-2 mt-4">
        <input type="checkbox" x-model="acceptedRules" class="mt-1" />
        <span>T√¥i ƒë√£ ƒë·ªçc &amp; ƒë·ªìng √Ω tu√¢n th·ªß n·ªôi quy.</span>
      </label>
    </section>

    <!-- B∆Ø·ªöC 2 -->
    <section>
      <h2 class="text-xl font-semibold text-blue-700 mb-4">B∆Ø·ªöC 2 ‚Äì ƒêi·ªÅn th√¥ng tin</h2>
      <form @submit.prevent="submitForm" class="space-y-6">
        <!-- H·ªç t√™n -->
        <div>
          <label class="block font-medium">H·ªç v√† t√™n *</label>
          <div class="relative">
            <input x-model="form.hoTen" @input="validateHoTen" type="text" class="input" />
            <span class="check-icon" x-show="touched.hoTen" :class="valid.hoTen ? 'text-green-600' : 'text-red-600'" x-text="valid.hoTen ? '‚úîÔ∏è' : '‚úñÔ∏è'"></span>
          </div>
          <p class="error" x-show="touched.hoTen && !valid.hoTen">Vui l√≤ng nh·∫≠p h·ªç t√™n.</p>
        </div>

        <!-- Gi·ªõi t√≠nh -->
        <div>
          <label class="block font-medium">Gi·ªõi t√≠nh *</label>
          <select x-model="form.gioiTinh" @change="validateGioiTinh" class="input">
            <option value="">-- Ch·ªçn gi·ªõi t√≠nh --</option>
            <option value="Nam">Nam</option>
            <option value="N·ªØ">N·ªØ</option>
            <option value="Kh√°c">Kh√°c</option>
          </select>
          <p class="error" x-show="touched.gioiTinh && !valid.gioiTinh">Vui l√≤ng ch·ªçn gi·ªõi t√≠nh.</p>
        </div>

        <!-- NƒÉm sinh -->
        <div>
          <label class="block font-medium">NƒÉm sinh *</label>
          <select x-model="form.namSinh" @change="validateNamSinh" class="input">
            <option value="">-- Ch·ªçn nƒÉm --</option>
            <template x-for="year in years" :key="year">
              <option x-text="year"></option>
            </template>
          </select>
          <p class="error" x-show="touched.namSinh && !valid.namSinh">Vui l√≤ng ch·ªçn nƒÉm sinh.</p>
        </div>

        <!-- CCCD -->
        <div>
          <label class="block font-medium">S·ªë CCCD *</label>
          <div class="relative">
            <input x-model="form.cccd" @input="validateCCCD" type="text" class="input" />
            <span class="check-icon" x-show="touched.cccd" :class="valid.cccd ? 'text-green-600' : 'text-red-600'" x-text="valid.cccd ? '‚úîÔ∏è' : '‚úñÔ∏è'"></span>
          </div>
          <p class="error" x-show="touched.cccd && !valid.cccd">CCCD ph·∫£i g·ªìm ƒë√∫ng 12 s·ªë.</p>
        </div>

        <!-- S·ªë ƒëi·ªán tho·∫°i -->
        <div>
          <label class="block font-medium">S·ªë ƒëi·ªán tho·∫°i *</label>
          <div class="relative">
            <input x-model="form.soDienThoai" @input="validateSDT" type="text" class="input" />
            <span class="check-icon" x-show="touched.soDienThoai" :class="valid.soDienThoai ? 'text-green-600' : 'text-red-600'" x-text="valid.soDienThoai ? '‚úîÔ∏è' : '‚úñÔ∏è'"></span>
          </div>
          <p class="error" x-show="touched.soDienThoai && !valid.soDienThoai">SƒêT ph·∫£i 10‚Äì11 s·ªë.</p>
        </div>

        <!-- S·ªë ƒëi·ªán tho·∫°i kh·∫©n c·∫•p -->
        <div>
          <label class="block font-medium">SƒêT ng∆∞·ªùi th√¢n *</label>
          <div class="relative">
            <input x-model="form.sdtKhanCap" @input="validateSDTKhanCap" type="text" class="input" />
            <span class="check-icon" x-show="touched.sdtKhanCap" :class="valid.sdtKhanCap ? 'text-green-600' : 'text-red-600'" x-text="valid.sdtKhanCap ? '‚úîÔ∏è' : '‚úñÔ∏è'"></span>
          </div>
          <p class="error" x-show="touched.sdtKhanCap && !valid.sdtKhanCap">SƒêT ph·∫£i 10‚Äì11 s·ªë.</p>
        </div>

        <!-- ƒê·ªãa ch·ªâ -->
        <div>
          <label class="block font-medium">ƒê·ªãa ch·ªâ th∆∞·ªùng tr√∫ *</label>
          <div class="relative">
            <select x-model="form.diaChi" @change="validateDiaChi" class="input">
              <option value="">-- Ch·ªçn t·ªânh/th√†nh --</option>
              <template x-for="prov in provinces" :key="prov">
                <option x-text="prov"></option>
              </template>
            </select>
            <span class="check-icon" x-show="touched.diaChi" :class="valid.diaChi ? 'text-green-600' : 'text-red-600'" x-text="valid.diaChi ? '‚úîÔ∏è' : '‚úñÔ∏è'"></span>
          </div>
          <p class="error" x-show="touched.diaChi && !valid.diaChi">Vui l√≤ng ch·ªçn ƒë·ªãa ch·ªâ.</p>
        </div>

        <!-- Ng√†y ƒë·∫øn -->
        <div>
          <label class="block font-medium">Ng√†y ƒë·∫øn *</label>
          <div class="relative">
            <span class="absolute left-3 top-1/2 -translate-y-1/2 pointer-events-none">üìÖ</span>
            <input x-model="form.ngayDen" @change="validateNgayDen" type="date" :min="minNgay" class="input pl-10" />
            <span class="check-icon" x-show="touched.ngayDen" :class="valid.ngayDen ? 'text-green-600' : 'text-red-600'" x-text="valid.ngayDen ? '‚úîÔ∏è' : '‚úñÔ∏è'"></span>
          </div>
          <p class="error" x-show="touched.ngayDen && !valid.ngayDen">Ng√†y ƒë·∫øn ph·∫£i t·ª´ h√¥m nay tr·ªü ƒëi.</p>
        </div>

        <!-- Th·ªùi gian tu -->
        <div>
          <label class="block font-medium">Th·ªùi gian h√†nh thi·ªÅn *</label>
          <select x-model="form.thoiGianTu" @change="validateThoiGian" class="input">
            <option value="">-- Ch·ªçn --</option>
            <option>1‚Äí3 ng√†y</option>
            <option>4‚Äí7 ng√†y</option>
            <option>8‚Äí14 ng√†y</option>
            <option>15‚Äí30 ng√†y</option>
            <option>Tr√™n 30 ng√†y</option>
          </select>
          <p class="error" x-show="touched.thoiGianTu && !valid.thoiGianTu">Vui l√≤ng ch·ªçn th·ªùi gian tu.</p>
        </div>

        <!-- V·∫•n ƒë·ªÅ s·ª©c kho·∫ª -->
        <div>
          <p class="font-medium mb-1">V·∫•n ƒë·ªÅ th·ªÉ ch·∫•t?</p>
          <label class="inline-flex items-center mr-4">
            <input type="radio" value="Kh√¥ng" x-model="form.physicalIssue" /> <span class="ml-1">Kh√¥ng</span>
          </label>
          <label class="inline-flex items-center">
            <input type="radio" value="C√≥" x-model="form.physicalIssue" /> <span class="ml-1">C√≥</span>
          </label>
          <textarea x-show="form.physicalIssue === 'C√≥'" x-model="form.physicalNote" rows="2" class="input mt-2" placeholder="M√¥ t·∫£ v·∫•n ƒë·ªÅ th·ªÉ ch·∫•t"></textarea>
        </div>

        <div>
          <p class="font-medium mb-1">V·∫•n ƒë·ªÅ t√¢m l√Ω?</p>
          <label class="inline-flex items-center mr-4">
            <input type="radio" value="Kh√¥ng" x-model="form.mentalIssue" /> <span class="ml-1">Kh√¥ng</span>
          </label>
          <label class="inline-flex items-center">
            <input type="radio" value="C√≥" x-model="form.mentalIssue" /> <span class="ml-1">C√≥</span>
          </label>
          <textarea x-show="form.mentalIssue === 'C√≥'" x-model="form.mentalNote" rows="2" class="input mt-2" placeholder="M√¥ t·∫£ v·∫•n ƒë·ªÅ t√¢m l√Ω"></textarea>
        </div>

        <!-- Ghi ch√∫ -->
        <div>
          <label class="block font-medium">Ghi ch√∫ th√™m (n·∫øu c√≥)</label>
          <textarea x-model="form.ghiChu" rows="3" class="input"></textarea>
        </div>

        <!-- Cam k·∫øt -->
        <label class="flex items-start gap-2">
          <input type="checkbox" x-model="agreeTruth" class="mt-1" />
          <span>T√¥i cam ƒëoan th√¥ng tin tr√™n l√† ch√≠nh x√°c.</span>
        </label>

        <!-- Submit -->
        <button type="submit" class="px-6 py-2 bg-blue-600 text-white rounded disabled:opacity-50" :disabled="!formReady">G·ª≠i ƒëƒÉng k√Ω</button>
      </form>
    </section>
  </div>
</body>
</html>

